---
title: 운영체제 기본
date: '2023-04-30'
tags: ['computer science','os']
draft: false
---


## 컴퓨터 시스템

운영체제를 알아보기 위해서는 먼저 컴퓨터 시스템에 대한 이해가 있어야 한다. 컴퓨터는 크게 하드웨어(기계장치)와 소프트웨어(프로그램)로 나누어진다. 소프트웨어는 응용소프트웨어 시스템소프트웨어로 나누어지는데, 응용소프트웨어는 우리가 흔히 사용하는 웹브라운저나 ppt와 같은 프로그램들이다. 그리고 시스템 소프트웨어는 window나 mac과 같은 운영체제들이 대표적이고, 이 시스템 소프트웨어는 응용소프트웨어와 하드웨어 사이에서 매개체 역할을 해준다.

## 운영체제

- 대표적인 시스템 소프트웨어
- 컴퓨터 시스템의 자원을 관리하고 컴퓨터 프로그램이 동작하기 위한 서비를 제공하는 프로그램들의 모음

## 운영체제의 역할
1. 컴퓨터 시스템의 자원 관리
- 자원: 하드웨어 자원, 소프트웨어 자원, 데이터
- 예: 저장장치에서 데이터 읽어오기, 키보드나 마우스제어, 프로그램 동시 실행시 CPU와 메모리를 효율적으로 관리
- 컴퓨터 시스템을 효율적으로 운영하는 목적

✅ 궁극적 목표: 어떻게 하면 효율적으로 운영할 것인가

2. 사용자 지원
- 사용자가 내린 명령을 해석하여 실행하게 함
- 사용자와 하드웨어 사이의 매개체 역할
- 사용자에게 편의성을 제공하는 목적

✅ 궁극적 목표: 어떻게 하면 편의성을 제공할 것인가

## 컴퓨터 시스템과 운영체제
운영체제가 없던 초기의 컴퓨터 시스템은 응용 프로그램이 직접 컴퓨터 시스템의 자원을 제어해야 했다. 응용프로그램이 직접 컴퓨터 시스템의 자원을 제어 했고, 응용 프로그램 개발자는 하드웨어 제어방법을 매우 잘 알아야 했다. 따라서 각각의 응용 프로그램들이 직접 하드웨어를 제어했는데, 여러 사용자가 하드웨어를 공유하는 바람에 자원 분할에 어려움을 겪게 되었다.

### 운영체제가 있는 컴퓨터 시스템
위와 같은 환경을 바탕으로 운영체제가 등장하게 되었다. 하드웨어와 응용프로그램 사이에 운영체제를 위치하여, 운영체제가 컴퓨터 시스템의 자원을 제어하기 시작한 것이다. 운영체제가 자원을 관리하면서 여러 사용자가 있을 경우에도 적절하게 자원을 할당해줄 수 있게 되었고, 컴퓨터 시스템을 보다 효율적으로 사용하게 되었다.

## 커널 모드와 사용자 모드

### 커널모드(슈퍼바이저 모드)
하드웨어를 직접 제어할 수 있는 CPU 명령어를 사용할 수 있는 모드로, 운영체제의 커널이 동작하게 된다.

### 사용자모드(보호 모드)
하드웨어를 직접 제어할 수 있는 CPU 명령어를 사용할 수 없는 모드로, 응용 프로그램이 동작하게 된다. 하드웨어를 직접 제어할 수 없는 이유는 함부로 건드려서 컴퓨터 시스템이 망가지지 않도록 보호하기 위함이다.

### 🤔커널
- `커널모드`에서 동작하는 운영체제의 핵심 요소
- 응용 프로그램과 하드웨어 수준의 처리 사이의 가교 역할

#### 커널 구성방식

##### 1. 일체형 커널(운영체제 = 커널)
  - 운영체제의 모든 서비스가 커널 내에 포함됨
  - 예: UNIX, Linux

| 장점                          | 단점                               |
|-----------------------------|----------------------------------|
| 커널 내부 요소들이 서로 효율적으로 상호작용을 함 | 한 요소라도 오류가 발생하면 시스템 전체에 장애 발생 가능 |



##### 2. 마이크로 커널(커널을 최소화)
  - 운영체제 요소의 대부분을 커널 외부로 분리
  - 메모리 관리, 멀티태스킹, 프로세스 간 통신(IPC)등

| 장점                          | 단점                              |
|-----------------------------|---------------------------------|
| 새로운 서비스를 추가하여 운영체제를 확장하기 쉬움 | 커널 외부 요소들 사이에는 IPC가 필요하여 성능저하 발생 |
| 유지보수가 용이하여 안정성이 우수함         | --                              |


> IPC: Inter Process Communication 프로세스들 사이에 서로 데이터를 주고받는 행위 또는 그에 대한 방법이나 경로

##### 시스템 호출
시스템 호출은 하드웨어에 대한 제어가 필요한 경우 이용하는데, 사용자모드일 경우 응용프로그램이 운영체제에 시스템 호출을 통해 하드웨어에 대한 제어를 요청하게 된다. 이때 사용자모드에서 커널모드로 변경되고, 응용프로그램의 요구사항에 맞게 하드웨어 제어에 대한 처리를 해준다. 처리가 끝난 후에는 다시 커널모드가 끝나고 사용자모드가 켜지면서 응용프로그램이 동작한다.

## 운영체제의 구성
운영체제는 아래와 같이 구성되는데, 컴퓨터 시스템의 자원 성격에 따라 구분되어 있다.

<img width="370" alt="image"
     src="https://user-images.githubusercontent.com/72537762/235350485-65d48c16-8472-4d11-bf83-d160c83d084c.png"/>

### 💡 프로세스 관리자
- 프로세스의 생성 및 삭제
- CPU할당을 위한 스케줄 결정
- 프로세스의 상태를 관리하며 상태 전이 처리

컴퓨터 시스템에서 가장 핵심적인 부분은 `CPU`와 `메모리`이다. 이때 어떤 프로그램을 동작시키고자 하면, 이 프로그램은 저장장치에 파일형태로 저장되어 있다. 이 파일들을 사용자가 이용하기 위해서는 기본적으로 메모리의 특정위치에 프로세스가 만들어져야 한다. 이 프로세스는 `실행중인 프로그램`이다.

이러한 프로세스들을 관리하는 것이 바로 프로세스 관리자다. 그리고 이 프로세스를 실제로 실행하기 위해서 해당하는 명령어들을 실행해야 하는데, 이 명령어들을 실행하는 것이 `CPU`의 역할이다.

이때 프로세스 관리자는 프로세스가 하나가 아닌 여러개일때, 어떤 프로세스를 실행해줄지 스케줄링 작업을 해준다.


### 💡메모리 관리자
- 메모리(주기억장치) 공간에 대한 요구의 유효성 확인
- 메모리 할당 및 회수
- 메모리 공간 보호


### 💡장치 관리자
- 컴퓨터 시스템의 모든 장치 관리
- 시스템 장치의 할당, 작동, 반환

### 💡파일 관리자
- 컴퓨터 시스템의 모든 파일 관리
- 저장장치의 공간 관리
- 파일의 접근 제한 관리

## 운영체제의 유형

### 1. 일괄처리 운영체제

> Batch processing: 작업을 모아서 순서대로 처리하는 방식

단순한 작업들을 사람(오퍼레이터)이 하던 일을 프로그램이 순차적으로 빠르게 처리하게 되면서 전체적인 작업 처리 속도가 향상되었다. 하지만 하나씩 차례대로 처리하게 되면 나중에 들어온 작업은 앞선 작업들이 모두 끝날때까지 기다려야 했기 때문에, 비효율적이라는 단점이 있다.

### 2. 시분할 운영체제

> Time-sharing: 각 사용자의 프로그램을 한 번에 조금씩 수행하는 방식

시분할 운영체제는 다른 이름으로 대화형(interactive) 운영체제라고도 하는데, 조금만 기다리면서 처리가 되기 때문에 마치 컴퓨터와 서로 대화하는 것처럼 운영된다고 느껴졌기 때문이다. 이 방식은 앞서 사용했던 일괄처리 방식보다 응답시간이 크게 단축되면서, 사용자들은 마치 혼자서 컴퓨터를 사용하는 듯한 느낌을 받는다는 장점이 있었다.

### 3. 실시간 운영체제

> Real-time: 원하는 시간 내에 프로그램의 결과를 얻을 수 있는 방식

처리결과가 현재의 결정에 영향을 주는 환경에서 사용된다. 예를 들어서 미사일 제어 시스템, 증권거래 관리 시스템 등이 있다. 보통 중요한 작업에 대한 처리 기한을 맞추는 것이 중요할 때 많이 사용되고, 우선순위가 높은 작업을 우선 처리할 수 있는 기법을 활용한다.

### 4. 분산 운영체제

> 분산 시스템을 관리하기 위한 운영체제

분산시스템은 2개이상의 컴퓨터 시스템이 네트워크로 서로 연결되어 서로의 자원을 이용하는 시스템이다. 다른 컴퓨터 시스템의 자원을 이용하는 것이 마치 자신의 컴퓨터 시스템에 있는 자원을 이용하는 것처럼 느껴지게 할 수 있다.