---
title: Redux의 세가지 규칙
date: '2023-01-04'
tags: ['react', 'Redux']
draft: false
---

## 1. 하나의 어플리케이션 안에는 하나의 스토어가 있다

여러개의 스토어를 가질 수도 있으나 관리하기가 쉽지 않고 코드가 복잡해지기 때문에 하나의 스토어만 가지는 것이 좋다.

## 2. 상태는 읽기전용이다.

상태값은 불변성을 유지해야 한다. 왜냐하면 내부적으로 이전값과 변화된 값을 감지하는 `shallow equality`검사를 하기 때문이다. 이때 객체 변화를 감지할때 객체 내부의 내용을 하나씩 비교하는게 아니라, 얕은 비교를 하기 때문에 이전값에 대한 불변성을 유지하고 아예 새로운 값을 생성해주어야 한다.

이런 불변성을 유지하기 위해서는 `spread operator`를 활용하거나 `Object.assign`을 활용 할 수 있는데 리덕스에서는 `immer.js`를 활용하거나 `redux-toolkit`을 사용하면 `spread operator`나 `Object.assign`을 사용하지 않아도 불변성을 유지할 수 있다.

## 3. 리듀서는 순수한 함수여야 한다.

- 리듀서는 두가지 파라미터를 받는다. 이전상태 , 액션 객체
- 이전 상태는 절대로 건들이지 않는다. 변화를 일으킨 새로운 상태 객체를 만들어서 반환한다.
- 똑같은 파라미터로 호출된 리듀서 함수는 언제나 똑같은 결과값을 반환해야 한다.

[참고: 벨로퍼트 리액트](https://react.vlpt.us/redux/02-rules.html)
