---
title: Redux는 무엇인가
date: '2023-01-04'
tags: ['react', 'Redux']
draft: false
---

Redux는 전역상태를 관리하기 위한 단일 저장소이다. 아무것도 몰랐을 때는 Redux는 React를 위해서 만들어진 라이브러리인줄 알았다. 하지만 Redux는 순수 자바스크립트에서도 동작하는 독립적인 라이브러리이다. 리덕스는 다음의 몇가지 정의를 알아야 한다.

## 1. 액션

상태에 어떤 변화가 필요할때 액션을 발생시킨다. 액션은 하나의 객체로 표현되는데 액션 객체는 다음과 같이 이루어져 있다.

```javascript
{
  type: 'TO_DO'
}
```

액션 객체에서 `type`은 필수로 있어야 하고 그 외 값들은 마음대로 넣을 수 있다.

```javascript
{
  type: 'TO_DO'
  data: {
	id: 1,
	text: '리덕스'
  }
}
```

## 2. 액션 생성함수

액션 생성함수는 액션을 만드는 함수다.

```javascript
export function addTodo(data) {
	return {
		type: 'TO_DO'
		data
	}
}
```

액션 함수를 만드는 이유는 컴포넌트에서 쉽게 액션을 발생시키기 위함이다. 하지만 액션생성 함수를 사용하는 것이 필수적인 것은 아니고 발생시킬때마다 직접 액션 객체를 작성 할 수도 있다고 한다.

## 3. 리듀서

리듀서는 변화를 일으키는 함수다. 리듀서는 `state`,`action` 두가지 파라미터를 받는다.

1. state : 이전 상태값
2. action : action 객체

```
function counter(state, action) {
  switch (action.type) {
    case 'INCREASE':
      return state + 1;
    case 'DECREASE':
      return state - 1;
    default:
      return state;
  }
}
```

보통은 여러개의 리듀서를 만들고 이를 합쳐서 루트 리듀서를 만들어서 사용한다.

## 4. 스토어

리덕스는 한 어플리케이션당 하나의 스토어를 만든다. 스토어 안에는 현재의 앱 상태와 리듀서, 그리고 내장 함수들이 들어있다.

## 5. 디스패치

디스패치는 스토의 내장함수중 하나로, 액션을 발생 시키는 것이다.
`dispatch` 함수에는 액션을 파라미터로 전달한다. `dispatch(action)`이런식으로 사용하게 되고, 호출하면 스토어는 위의 리듀서 함수를 실행시켜서 조건에 맞는 함수를 수행해준다.

## 6. 구독

구독도 스토어의 내장함수 중 하나다. subscribe 함수는 함수 형태의 값을 파라미터로 받아오고, subscribe함수에 특정 함수를 전달해주면 액션이 디스패치 되었을 때마다 전달해준 함수가 호출된다. 보통 subscribe는 순수 자바스크립트 프로젝트에서만 사용되고, react 프로젝트에서는 react-redux에서 제공해주는 connect 함수 또는 useSelector hook을 사용한다.

### 정리

- 스토어: 스토어에서 상태 저장
- 액션: 상태에 대한 액션 타입을 지정
- 리듀서: 액션 타입에 따라 변화된 새로운 상태 반환
- 디스패치: 실제 상태를 변화시키기 위해 스토어의 내장함수 호출(액션발생)
